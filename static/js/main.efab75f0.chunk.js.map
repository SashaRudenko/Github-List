{"version":3,"sources":["components/Search.tsx","components/List.tsx","components/Header.tsx","components/RepoList.tsx","api/api.js","App.tsx","index.tsx"],"names":["Search","props","searchQuery","setSearchQuery","applyQuery","queryHistory","className","value","onChange","event","target","map","item","List","orgsBySearch","reposBySearch","src","avatar_url","alt","login","description","href","repos_url","id","full_name","language","Header","RepoList","useState","appliedQuery","setAppliedQuery","getReposBySearch","getOrgsBySearch","useCallback","f","delay","timerId","clearTimeout","args","setInterval","debounce","useEffect","url","fetch","then","response","json","data","items","unshift","uuid4","length","filter","includes","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.efab75f0.chunk.js","sourcesContent":["import React from 'react';\n\ntype Props = {\n  searchQuery: string,\n  setSearchQuery: (value: string) => void,\n  applyQuery: (value: string) => void,\n  queryHistory: string[][],\n};\n\nexport const Search: React.FC<Props> = (props) => {\n  const {\n    searchQuery,\n    setSearchQuery,\n    applyQuery,\n    queryHistory,\n  } = props;\n\n  return (\n    <div className=\"search\">\n      <input\n        className=\"search__input\"\n        value={searchQuery}\n        onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n          setSearchQuery(event.target.value);\n          applyQuery(event.target.value);\n        }}\n      />\n      <ul className=\"search__history\">\n        {queryHistory.map((item: string[]) => (\n          <li key={item[1]} className=\"history-item\">\n            {item[0]}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React from 'react';\n\ntype Props = {\n  orgsBySearch: Orgs[];\n  reposBySearch: Repos[];\n};\n\nexport const List: React.FC<Props> = (props) => {\n  const { orgsBySearch, reposBySearch } = props;\n\n  return (\n    <div className=\"list\">\n      <ul className=\"orgs-list\">\n        {orgsBySearch && orgsBySearch.map((item: Orgs) => (\n          <li key={item.id} className=\"orgs-item\">\n            <img\n              className=\"orgs-list__img list__item\"\n              src={item.avatar_url}\n              alt={item.login}\n            />\n            <p className=\"orgs-list__login list__item\">\n              Login:&nbsp;\n              {item.login}\n            </p>\n            <p className=\"orgs-list__description list__item\">\n              Description:&nbsp;\n              {item.description && item.description}\n            </p>\n            <a href={item.repos_url}>Repos link</a>\n          </li>\n        ))}\n      </ul>\n      <ul className=\"repos-list\">\n        {reposBySearch && reposBySearch.map((item: Repos) => (\n          <li key={item.id} className=\"repos-item\">\n            <p className=\"repos-list__fullname list__item\">\n              Name:&nbsp;\n              {item.full_name}\n            </p>\n            <p className=\"repos-list__language list__item\">\n              Language:&nbsp;\n              {item.language}\n            </p>\n            <p className=\"repos-list__description list__item\">\n              Description:&nbsp;\n              {item.description}\n            </p>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport const Header = () => (\n  <div className=\"header\">\n    <h1 className=\"header\">\n      GITHUB SEARCHER\n    </h1>\n  </div>\n);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { v4 as uuid4 } from 'uuid';\nimport { Search } from './Search';\nimport { List } from './List';\nimport { Header } from './Header';\nimport { getRepos, getOrgs } from '../api/api';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst debounce = (f: (...args: any[]) => void, delay: number) => {\n  let timerId: NodeJS.Timeout;\n\n  return (...args: string[]) => {\n    clearTimeout(timerId);\n    timerId = setInterval(f, delay, ...args);\n  };\n};\n\nconst queryHistory: string[][] = [];\n\nexport const RepoList = () => {\n  const [searchQuery, setSearchQuery] = useState<string>('');\n  const [appliedQuery, setAppliedQuery] = useState<string>('');\n  const [reposBySearch, getReposBySearch] = useState<Repos[]>([]);\n  const [orgsBySearch, getOrgsBySearch] = useState<Orgs[]>([]);\n\n  const applyQuery = useCallback(\n    debounce(setAppliedQuery, 500),\n    [],\n  );\n\n  useEffect(() => {\n    if (appliedQuery !== '') {\n      getRepos(appliedQuery).then((data) => getReposBySearch(data.items));\n      queryHistory.unshift([appliedQuery, uuid4()]);\n      queryHistory.length = 5;\n    }\n  }, [appliedQuery]);\n\n  useEffect(() => {\n    if (appliedQuery !== '') {\n      getOrgs()\n        .then((data) => getOrgsBySearch(data\n          .filter((item: Orgs) => item.login.includes(appliedQuery))));\n    }\n  }, [appliedQuery]);\n\n  return (\n    <>\n      <Header />\n      <div className=\"main-container\">\n        <Search\n          searchQuery={searchQuery}\n          setSearchQuery={setSearchQuery}\n          applyQuery={applyQuery}\n          queryHistory={queryHistory}\n        />\n        <List\n          orgsBySearch={orgsBySearch}\n          reposBySearch={reposBySearch}\n        />\n      </div>\n    </>\n  );\n};\n","const BASE_URL_REPOS = 'https://api.github.com/search/repositories?q=';\nconst BASE_URL_ORGS = 'https://api.github.com/organizations';\n\nexport const getRepos = (url) => {\n  return fetch(`${BASE_URL_REPOS}${url}&per_page=20`)\n    .then(response => response.json());\n};\n\nexport const getOrgs = () => {\n  return fetch(`${BASE_URL_ORGS}`)\n    .then(response => response.json());\n};\n","import React from 'react';\nimport { RepoList } from './components/RepoList';\nimport './App.scss';\n\nexport const App: React.FC = () => {\n  return (\n    <div className=\"starter\">\n      <RepoList />\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}